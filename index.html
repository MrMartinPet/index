<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Regelapp – snabbguide</title>
  <style>
    :root { --bg:#0b0f14; --card:#121a23; --card2:#0f1620; --txt:#e8eef6; --muted:#a9b6c6; --line:#243142; --accent:#5aa6ff; --bad:#ff5a7a; --good:#49d17d; }
    *{box-sizing:border-box}
    body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;background:linear-gradient(180deg,#0b0f14,#070a0f);color:var(--txt)}
    header{position:sticky;top:0;background:rgba(11,15,20,.92);backdrop-filter:blur(10px);border-bottom:1px solid var(--line);z-index:10}
    .wrap{max-width:980px;margin:0 auto;padding:14px 14px 18px}
    h1{font-size:18px;margin:0 0 8px}
    .sub{color:var(--muted);font-size:13px;margin:0 0 10px}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    .pill{border:1px solid var(--line);background:rgba(18,26,35,.7);color:var(--txt);padding:10px 12px;border-radius:12px;font-size:13px;cursor:pointer;user-select:none}
    .pill[aria-pressed="true"]{border-color:rgba(90,166,255,.7);box-shadow:0 0 0 3px rgba(90,166,255,.15)}
    .search{flex:1;min-width:190px}
    input{width:100%;padding:10px 12px;border-radius:12px;border:1px solid var(--line);background:rgba(18,26,35,.7);color:var(--txt);outline:none}
    input::placeholder{color:#7f92a8}
    main{max-width:980px;margin:0 auto;padding:14px}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:10px}
    .card{grid-column:span 12;background:rgba(18,26,35,.75);border:1px solid var(--line);border-radius:16px;overflow:hidden}
    .card .hd{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:14px 14px;background:rgba(15,22,32,.55);cursor:pointer}
    .card h2{font-size:15px;margin:0}
    .tag{font-size:12px;color:var(--muted)}
    .body{display:none;padding:14px;border-top:1px solid var(--line);line-height:1.35}
    .card.open .body{display:block}
    .k{display:inline-flex;align-items:center;gap:6px;padding:3px 8px;border:1px solid var(--line);border-radius:999px;background:rgba(18,26,35,.55);font-size:12px;color:var(--muted)}
    .hr{height:1px;background:var(--line);margin:12px 0}
    .tiles{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
    .tile{background:rgba(15,22,32,.55);border:1px solid var(--line);border-radius:14px;padding:12px}
    .tile b{display:block;margin-bottom:6px}
    .note{color:var(--muted);font-size:13px}
    .ok{color:var(--good)}
    .bad{color:var(--bad)}
    .btnrow{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .btn{border:1px solid var(--line);background:rgba(18,26,35,.75);color:var(--txt);padding:10px 12px;border-radius:12px;cursor:pointer}
    .btn.primary{border-color:rgba(90,166,255,.7);background:rgba(90,166,255,.15)}
    .small{font-size:12px;color:var(--muted)}
    @media (min-width:760px){
      .card.half{grid-column:span 6}
      .tiles{grid-template-columns:repeat(3,1fr)}
    }
  </style>
</head>
<body>
<header>
  <div class="wrap">
    <h1>Regelapp – snabbguide</h1>
    <p class="sub">Tryck på sektioner. Sök funkar på allt. Anpassad för 2 spelare + 5 omgångar.</p>
    <div class="row">
      <div class="search"><input id="q" placeholder="Sök: chans, järnväg, fängelse, poäng, fri parkering..." /></div>
      <button class="pill" id="modeAll" aria-pressed="true" data-filter="all">Allt</button>
      <button class="pill" id="modeTurn" aria-pressed="false" data-filter="turn">Tur (glid)</button>
      <button class="pill" id="modeScore" aria-pressed="false" data-filter="score">Poäng</button>
      <button class="pill" id="modeSquares" aria-pressed="false" data-filter="squares">Rutor</button>
    </div>
  </div>
</header>

<main>
  <div class="grid" id="cards">

    <section class="card open half" data-tags="turn start omgång turordning">
      <div class="hd" role="button" tabindex="0">
        <div>
          <h2>Starta omgången</h2>
          <div class="tag">Turordning · 2 spelare</div>
        </div>
        <span class="k">Tryck</span>
      </div>
      <div class="body">
        <div class="tiles">
          <div class="tile">
            <b>1) Turordning</b>
            Titta på <b>referenskortet</b>. Den som står överst börjar.
          </div>
          <div class="tile">
            <b>2) Varje spelare</b>
            Spelar sina <b>4 pjäser</b> (en i taget).
          </div>
          <div class="tile">
            <b>3) Sen poäng</b>
            När båda glidit alla pjäser: <b>poängfas i ordning</b>.
          </div>
        </div>
        <div class="hr"></div>
        <div class="note"><b>5 omgångar:</b> spela exakt 5, sen räkna slutpengar. Mest vinner.</div>
      </div>
    </section>

    <section class="card open half" data-tags="turn glid sikta släpp">
      <div class="hd" role="button" tabindex="0">
        <div>
          <h2>Din tur (glid-regler)</h2>
          <div class="tag">Gör detta per pjäs</div>
        </div>
        <span class="k">Tryck</span>
      </div>
      <div class="body">
        <div class="tiles">
          <div class="tile">
            <b>1) Start</b>
            Ställ pjäsen <b>bakom GÅ</b>.
          </div>
          <div class="tile">
            <b>2) Glid</b>
            Sikta och släpp. <span class="bad"><b>Ingen</b> justering efter släpp.</span>
          </div>
          <div class="tile">
            <b>3) Knuff</b>
            Att knuffa andra pjäser är <span class="ok"><b>tillåtet</b></span>.
          </div>
        </div>
        <div class="hr"></div>
        <div class="note"><b>Om pjäsen hamnar mellan rutor:</b> räkna den som rutan där största delen av pjäsen ligger.</div>
      </div>
    </section>

    <section class="card" data-tags="score poäng ordning chans järnväg pengar skatt fri parkering">
      <div class="hd" role="button" tabindex="0">
        <div>
          <h2>Poängfas (måste ske i ordning)</h2>
          <div class="tag">Efter att båda glidit alla 4 pjäser</div>
        </div>
        <span class="k">Tryck</span>
      </div>
      <div class="body">
        <div class="tiles">
          <div class="tile">
            <b>Steg 1: Chans</b>
            Bara pjäser på <b>Chans</b>. Glid igen. Om den hamnar på Chans igen: <b>stanna</b>.
          </div>
          <div class="tile">
            <b>Steg 2: Järnvägsstation</b>
            Flytta pjäsen till valfri <b>egendom</b> (inte till Chans/Fri parkering/Fängelse).
          </div>
          <div class="tile">
            <b>Steg 3: Pengar & skatt</b>
            Ta betalt för egendomar. Bonus för färggrupp. Dubbelt om hus. Lyxskatt → betala till Fri parkering.
          </div>
          <div class="tile">
            <b>Steg 4: Fri parkering</b>
            Flest pjäser där tar potten. Lika → dela.
          </div>
        </div>
        <div class="hr"></div>
        <div class="note"><b>Konflikt (båda på samma egendom):</b> referenskortet avgör (den som står högst vinner).</div>
      </div>
    </section>

    <section class="card" data-tags="squares rutor gå chans järnväg fängelse lyxskatt fri parkering egendomar">
      <div class="hd" role="button" tabindex="0">
        <div>
          <h2>Vad betyder rutorna?</h2>
          <div class="tag">Tryck och läs snabbt</div>
        </div>
        <span class="k">Tryck</span>
      </div>
      <div class="body">
        <div class="tiles">
          <div class="tile">
            <b>GÅ</b>
            Startplats för varje glid.
          </div>
          <div class="tile">
            <b>Egendom</b>
            Ger pengar i poängfasen. Färggrupp ger bonus.
          </div>
          <div class="tile">
            <b>Chans</b>
            Du får glida igen i poängfasens steg 1.
          </div>
          <div class="tile">
            <b>Järnvägsstation</b>
            Du flyttar till valfri egendom i poängfasens steg 2.
          </div>
          <div class="tile">
            <b>Lyxskatt</b>
            Betala (t.ex. 100) till Fri parkering.
          </div>
          <div class="tile">
            <b>Fri parkering</b>
            Pengapotten. Flest pjäser tar allt.
          </div>
          <div class="tile">
            <b>Fängelse</b>
            Om du hamnar där: betala 100 till Fri parkering och glid igen – eller sitt kvar till omgångens slut.
          </div>
          <div class="tile">
            <b>Hus</b>
            Om en egendom har hus: ger <b>dubbla</b> pengar.
          </div>
        </div>
      </div>
    </section>

    <section class="card half" data-tags="taktik strategi bästa rutor vinn omgången">
      <div class="hd" role="button" tabindex="0">
        <div>
          <h2>Taktik (5 omgångar)</h2>
          <div class="tag">Enkelt upplägg</div>
        </div>
        <span class="k">Tryck</span>
      </div>
      <div class="body">
        <div class="tiles">
          <div class="tile">
            <b>2 pjäser</b>
            Sikta på samma <b>färggrupp</b> (bonus är starkt).
          </div>
          <div class="tile">
            <b>1 pjäs</b>
            Sikta på <b>Järnvägsstation</b> (kontroll).
          </div>
          <div class="tile">
            <b>1 pjäs</b>
            Använd för <b>sabotage</b> (knuffa bort/knuffa till skatt/fängelse).
          </div>
        </div>
        <div class="hr"></div>
        <div class="note"><b>Sista omgången:</b> jaga Fri parkering + stoppa motståndaren (blockera/sabla).</div>
      </div>
    </section>

    <section class="card half" data-tags="checklista snabbstart">
      <div class="hd" role="button" tabindex="0">
        <div>
          <h2>Snabbcheck (innan ni börjar)</h2>
          <div class="tag">30 sekunder</div>
        </div>
        <span class="k">Tryck</span>
      </div>
      <div class="body">
        <ul>
          <li>Bestäm: <b>5 omgångar</b>.</li>
          <li>Turordning enligt <b>referenskort</b>.</li>
          <li>Varje tur: glid <b>4 pjäser</b> → sen poängfas.</li>
          <li>Poängfas: <b>Chans → Järnväg → Pengar/Skatt → Fri parkering</b>.</li>
        </ul>
        <div class="btnrow">
          <button class="btn primary" id="openAll">Öppna alla sektioner</button>
          <button class="btn" id="closeAll">Stäng alla sektioner</button>
          <span class="small" id="status"></span>
        </div>
      </div>
    </section>

  </div>
</main>

<script>
  const cards = [...document.querySelectorAll('.card')];
  const q = document.getElementById('q');
  const pills = [...document.querySelectorAll('.pill')];
  const status = document.getElementById('status');

  function setPill(activeId){
    pills.forEach(p => p.setAttribute('aria-pressed', p.id === activeId ? 'true' : 'false'));
  }

  function matchesFilter(card, filter){
    if(filter === 'all') return true;
    const tags = (card.dataset.tags || '');
    if(filter === 'turn')   return /turn|start|glid|turordning/i.test(tags);
    if(filter === 'score')  return /score|poäng|pengar|skatt|fri parkering|chans|järnväg/i.test(tags);
    if(filter === 'squares')return /squares|rutor|egendom|lyxskatt|fängelse|järnväg|chans/i.test(tags);
    return true;
  }

  function apply(){
    const filter = document.querySelector('.pill[aria-pressed="true"]').dataset.filter;
    const term = q.value.trim().toLowerCase();

    let shown = 0;
    cards.forEach(card => {
      const text = card.innerText.toLowerCase();
      const okFilter = matchesFilter(card, filter);
      const okSearch = term === '' || text.includes(term);
      const show = okFilter && okSearch;
      card.style.display = show ? '' : 'none';
      if(show) shown++;
    });
    status.textContent = shown + " sektioner visas";
  }

  // Accordion
  cards.forEach(card => {
    const hd = card.querySelector('.hd');
    function toggle(){ card.classList.toggle('open'); }
    hd.addEventListener('click', toggle);
    hd.addEventListener('keydown', (e) => {
      if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggle(); }
    });
  });

  // Pills
  pills.forEach(p => p.addEventListener('click', () => { setPill(p.id); apply(); }));

  // Search
  q.addEventListener('input', apply);

  // Open/Close all
  document.getElementById('openAll').addEventListener('click', () => { cards.forEach(c => c.classList.add('open')); });
  document.getElementById('closeAll').addEventListener('click', () => { cards.forEach(c => c.classList.remove('open')); });

  // Init
  apply();
</script>
</body>
</html>